/* 红色流光毛玻璃风格 CSS - 修复导航栏滚动条问题 */

/* 基础样式 */
* {
    background-color: transparent !important;
}

/* 背景与基础样式 */
.css-1li7dvq,
.css-l3ykv8,
body,
html {
    background: url('https://i.postimg.cc/sgSbC6Vv/long-hua.jpg') fixed center/cover !important;
    position: relative;
    z-index: 0;
    overflow-x: hidden; /* 防止水平滚动条 */
}

/* 毛玻璃叠加层 */
.css-l3ykv8::before {
    content: "";
    position: absolute;
    top: 0; 
    left: 0;
    width: 100%; 
    height: 100%;
    background: rgba(10, 0, 0, 0.4) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 1;
}

/* 修复导航栏滚动条问题 */
[class*="nav"], [class*="sidebar"], [class*="menu"] {
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

/* 导航栏特定样式 - 防止滚动条溢出 */
[class*="nav"]::-webkit-scrollbar,
[class*="sidebar"]::-webkit-scrollbar,
[class*="menu"]::-webkit-scrollbar {
    width: 4px !important; /* 更窄的滚动条 */
}

[class*="nav"]::-webkit-scrollbar-track,
[class*="sidebar"]::-webkit-scrollbar-track,
[class*="menu"]::-webkit-scrollbar-track {
    background: rgba(5, 0, 0, 0.2) !important;
    border-radius: 2px;
}

[class*="nav"]::-webkit-scrollbar-thumb,
[class*="sidebar"]::-webkit-scrollbar-thumb,
[class*="menu"]::-webkit-scrollbar-thumb {
    background: rgba(120, 0, 0, 0.4) !important;
    border-radius: 2px;
}

[class*="nav"]::-webkit-scrollbar-thumb:hover,
[class*="sidebar"]::-webkit-scrollbar-thumb:hover,
[class*="menu"]::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 80, 80, 0.6) !important;
}

/* 主内容容器 - 毛玻璃效果 */
.css-1li7dvq > *, .css-l3ykv8 > * {
    position: relative;
    z-index: 2;
    background: rgba(15, 0, 0, 0.3) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(140, 0, 0, 0.45) !important;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
    transition: all 0.3s ease;
    overflow: hidden; /* 防止内容溢出导致滚动条 */
}

/* 大组件悬停效果 */
.css-1li7dvq > *:hover,
.css-l3ykv8 > *:hover {
    background: rgba(40, 0, 0, 0.4) !important;
    border-color: rgba(255, 80, 80, 0.8) !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4) !important;
}

/* 选中状态 */
.css-1li7dvq > *[class*="selected"],
.css-l3ykv8 > *[class*="selected"],
.css-1li7dvq > *[class*="active"],
.css-l3ykv8 > *[class*="active"] {
    border: 2px solid rgba(184, 134, 11, 0.9) !important;
    box-shadow: 
        0 0 25px rgba(184, 134, 11, 0.7),
        0 0 40px rgba(184, 134, 11, 0.4) !important;
    background: rgba(50, 0, 0, 0.5) !important;
    animation: selectedPulse 2s infinite ease-in-out !important;
    z-index: 100 !important;
}

@keyframes selectedPulse {
    0%, 100% { 
        box-shadow: 
            0 0 25px rgba(184, 134, 11, 0.7),
            0 0 40px rgba(184, 134, 11, 0.4);
    }
    50% { 
        box-shadow: 
            0 0 35px rgba(218, 165, 32, 0.9),
            0 0 55px rgba(218, 165, 32, 0.6);
    }
}

/* 测试按钮组 */
[class*="test"], [class*="website-test"],
[class*="button-group"] {
    display: flex !important;
    flex-direction: row !important;
    gap: 12px !important;
    justify-content: center !important;
}

/* 测试按钮样式 */
[class*="test-button"], [class*="website-button"],
button[class*="test"], button[class*="website"] {
    flex: 1;
    min-width: 120px;
    background: rgba(30, 0, 0, 0.4) !important;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(140, 0, 0, 0.5) !important;
    border-radius: 6px;
    padding: 12px 16px;
    text-align: center;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

/* 测试按钮悬停效果 - 红色流光效果 */
[class*="test-button"]:hover, [class*="website-button"]:hover,
button[class*="test"]:hover, button[class*="website"]:hover {
    background: rgba(50, 0, 0, 0.6) !important;
    border-color: rgba(255, 80, 80, 0.9) !important;
    transform: translateY(-3px) scale(1.05);
    box-shadow: 
        0 5px 15px rgba(0, 0, 0, 0.3),
        0 0 15px rgba(255, 80, 80, 0.5) !important;
}

/* 红色流光效果 */
[class*="test-button"]:hover::before, [class*="website-button"]:hover::before,
button[class*="test"]:hover::before, button[class*="website"]:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 50, 50, 0.3),
        rgba(255, 0, 0, 0.5),
        rgba(255, 50, 50, 0.3),
        transparent
    );
    animation: buttonFlow 1s ease-in-out;
    z-index: -1;
}

@keyframes buttonFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* 测试按钮选中状态 */
[class*="test-button"][class*="selected"],
[class*="website-button"][class*="selected"],
[class*="test-button"][class*="active"], 
[class*="website-button"][class*="active"] {
    border: 2px solid rgba(218, 165, 32, 0.95) !important;
    box-shadow: 
        0 0 20px rgba(218, 165, 32, 0.7),
        0 0 35px rgba(218, 165, 32, 0.4) !important;
    background: rgba(60, 0, 0, 0.6) !important;
}

/* 开关按钮样式 */
[class*="proxy"], [class*="system-proxy"],
.MuiSwitch-root, [role="switch"] {
    background: rgba(25, 0, 0, 0.5) !important;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(140, 0, 0, 0.5) !important;
    border-radius: 8px;
    padding: 12px 16px;
    margin: 8px 0;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

/* 开关悬停效果 - 红色流光效果 */
[class*="proxy"]:hover, [class*="system-proxy"]:hover,
.MuiSwitch-root:hover, [role="switch"]:hover {
    border-color: rgba(255, 80, 80, 0.8) !important;
    transform: scale(1.03);
    box-shadow: 0 0 15px rgba(255, 80, 80, 0.4) !important;
}

[class*="proxy"]:hover::before, [class*="system-proxy"]:hover::before,
.MuiSwitch-root:hover::before, [role="switch"]:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 50, 50, 0.2),
        rgba(255, 0, 0, 0.4),
        rgba(255, 50, 50, 0.2),
        transparent
    );
    animation: switchFlow 1.2s ease-in-out;
    z-index: -1;
}

@keyframes switchFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* 开关轨道和滑块 */
.MuiSwitch-track {
    background: rgba(120, 0, 0, 0.6) !important;
    transition: all 0.3s ease;
}

.MuiSwitch-thumb {
    background: rgba(255, 100, 100, 0.85) !important;
    transition: all 0.3s ease;
}

.Mui-checked + .MuiSwitch-track {
    background: rgba(218, 165, 32, 0.7) !important;
    box-shadow: 
        0 0 10px rgba(218, 165, 32, 0.5),
        inset 0 0 5px rgba(255, 215, 0, 0.3) !important;
}

.Mui-checked .MuiSwitch-thumb {
    background: rgba(255, 215, 0, 0.95) !important;
    box-shadow: 
        0 0 15px rgba(218, 165, 32, 0.8),
        0 0 25px rgba(255, 215, 0, 0.4) !important;
    transform: scale(1.15);
}

/* 设置面板 */
[class*="settings"], [class*="panel"],
[class*="config"], [class*="control"] {
    background: rgba(20, 0, 0, 0.4) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(120, 0, 0, 0.45) !important;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    transition: all 0.3s ease;
}

/* 设置面板悬停效果 */
[class*="settings"]:hover, [class*="panel"]:hover,
[class*="config"]:hover, [class*="control"]:hover {
    border-color: rgba(255, 80, 80, 0.7) !important;
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.35) !important;
}

/* 状态指示器 */
[class*="status"], [class*="connected"] {
    background: rgba(30, 0, 0, 0.5) !important;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(140, 0, 0, 0.45) !important;
    border-radius: 4px;
    padding: 4px 8px;
    font-weight: 600;
    transition: all 0.3s ease;
}

/* 连接状态 */
[class*="connected"] {
    border-color: rgba(180, 0, 0, 0.6) !important;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.4) !important;
    color: rgba(255, 100, 100, 0.9) !important;
}

/* 表格样式 */
table, tr, td, th {
    background: rgba(12, 0, 0, 0.15) !important;
    border-color: rgba(90, 0, 0, 0.25) !important;
}

/* 表格行悬停效果 - 红色流光效果 */
tr {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

tr:hover {
    background: rgba(35, 0, 0, 0.3) !important;
    transform: translateX(3px);
    box-shadow: 0 0 10px rgba(255, 80, 80, 0.3) !important;
}

tr:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 50, 50, 0.2),
        rgba(255, 0, 0, 0.3),
        rgba(255, 50, 50, 0.2),
        transparent
    );
    animation: rowFlow 1.5s ease-in-out;
    z-index: -1;
}

@keyframes rowFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* 表格行选中状态 */
tr[class*="selected"],
tr[class*="active"] {
    background: rgba(45, 0, 0, 0.4) !important;
    border-left: 4px solid rgba(218, 165, 32, 0.9) !important;
    box-shadow: 
        0 0 15px rgba(218, 165, 32, 0.5),
        inset 0 0 10px rgba(184, 134, 11, 0.1) !important;
}

/* 文字样式 */
.text-primary, .title, h1, h2, h3, h4, h5, h6 {
    color: rgba(255, 240, 240, 0.95) !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
    transition: all 0.3s ease;
}

.text-primary:hover, .title:hover, h1:hover, h2:hover, h3:hover, h4:hover, h5:hover, h6:hover {
    color: rgba(255, 100, 100, 0.95) !important;
    text-shadow: 
        0 0 15px rgba(255, 0, 0, 0.8),
        0 0 30px rgba(255, 50, 50, 0.5) !important;
    transform: translateY(-2px) scale(1.05);
}

.text-primary[class*="selected"], .title[class*="selected"] {
    color: rgba(255, 215, 0, 0.98) !important;
    text-shadow: 
        0 0 20px rgba(255, 215, 0, 0.9),
        0 0 35px rgba(218, 165, 32, 0.6) !important;
    animation: textGlow 2s infinite alternate !important;
}

@keyframes textGlow {
    0% {
        text-shadow: 
            0 0 20px rgba(255, 215, 0, 0.9),
            0 0 35px rgba(218, 165, 32, 0.6);
    }
    100% {
        text-shadow: 
            0 0 25px rgba(255, 215, 0, 1),
            0 0 45px rgba(218, 165, 32, 0.8);
    }
}

.text-secondary, p, span {
    color: rgba(255, 220, 220, 0.85) !important;
}

/* 按钮样式 - 红色流光效果 */
button, .btn, [role="button"] {
    background: rgba(40, 0, 0, 0.4) !important;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(140, 0, 0, 0.5) !important;
    color: rgba(255, 240, 240, 0.9) !important;
    border-radius: 6px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

button:hover, .btn:hover, [role="button"]:hover {
    background: rgba(60, 0, 0, 0.6) !important;
    border-color: rgba(255, 80, 80, 0.9) !important;
    transform: translateY(-3px) scale(1.05);
    box-shadow: 
        0 5px 15px rgba(0, 0, 0, 0.3),
        0 0 15px rgba(255, 80, 80, 0.5) !important;
}

button:hover::before, .btn:hover::before, [role="button"]:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 50, 50, 0.3),
        rgba(255, 0, 0, 0.5),
        rgba(255, 50, 50, 0.3),
        transparent
    );
    animation: generalButtonFlow 1s ease-in-out;
    z-index: -1;
}

@keyframes generalButtonFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

button[class*="selected"], .btn[class*="selected"], [role="button"][class*="selected"] {
    border: 2px solid rgba(218, 165, 32, 0.95) !important;
    box-shadow: 
        0 0 20px rgba(218, 165, 32, 0.7),
        0 0 35px rgba(218, 165, 32, 0.4) !important;
    background: rgba(70, 0, 0, 0.6) !important;
}

/* 输入框 */
input, textarea, select {
    background: rgba(20, 0, 0, 0.25) !important;
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border: 1px solid rgba(100, 0, 0, 0.35) !important;
    color: rgba(255, 240, 240, 0.85) !important;
    border-radius: 6px;
    transition: all 0.3s ease;
}

input:focus, textarea:focus, select:focus {
    border-color: rgba(255, 80, 80, 0.9) !important;
    box-shadow: 
        0 0 20px rgba(255, 0, 0, 0.6),
        inset 0 0 8px rgba(255, 50, 50, 0.2) !important;
    background: rgba(30, 0, 0, 0.35) !important;
    transform: scale(1.03);
}

/* 全局滚动条 */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(10, 0, 0, 0.25);
}

::-webkit-scrollbar-thumb {
    background: rgba(120, 0, 0, 0.5);
    border-radius: 4px;
    transition: all 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 80, 80, 0.8) !important;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
}

/* 特殊元素 */
[class*="speed"], [class*="download"], [class*="upload"] {
    color: rgba(255, 100, 100, 0.9) !important;
    font-weight: 600;
    text-shadow: 0 0 8px rgba(255, 0, 0, 0.5);
}

[class*="待检测"] {
    color: rgba(255, 100, 100, 0.85) !important;
    font-weight: 600;
    animation: blink 2s infinite;
    position: relative;
}

[class*="待检测"]::after {
    content: "✦";
    position: absolute;
    right: -15px;
    top: 50%;
    transform: translateY(-50%);
    color: rgba(255, 100, 100, 0.7);
    animation: spin 2s infinite linear;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes spin {
    0% { transform: translateY(-50%) rotate(0deg); }
    100% { transform: translateY(-50%) rotate(360deg); }
}

/* 毛玻璃效果增强 */
.css-1li7dvq > *, .css-l3ykv8 > *,
[class*="settings"], [class*="panel"],
[class*="config"], [class*="control"],
[class*="test-button"], [class*="website-button"],
button[class*="test"], button[class*="website"],
[class*="proxy"], [class*="system-proxy"],
.MuiSwitch-root, [role="switch"],
button, .btn, [role="button"] {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

/* 防止内容溢出导致滚动条 */
[class*="container"], [class*="wrapper"] {
    overflow: hidden !important;
}

/* === 通用订阅卡片布局修复 === */
/* 确保订阅卡片的选中状态边框完整显示 */
.css-1ow8u3y[aria-selected="true"],
.css-1rgmi2n[aria-selected="true"] {
    border: 2px solid var(--selected-color, rgba(65, 105, 225, 0.9)) !important;
    box-shadow: 
        0 0 15px var(--selected-glow, rgba(65, 105, 225, 0.6)),
        0 0 25px var(--selected-shadow, rgba(65, 105, 225, 0.3)) !important;
    background: var(--selected-bg, rgba(30, 0, 0, 0.6)) !important;
    margin: -1px !important;
    position: relative !important;
    z-index: 10 !important;
}

/* 确保选中卡片在容器内完整显示 */
.css-83xgas {
    overflow: visible !important;
    position: relative !important;
}

/* 修复卡片容器布局 */
.css-1ymo5jj {
    padding: 8px !important;
    overflow: visible !important;
}

/* 确保卡片内容不被边框遮挡 */
.css-1ow8u3y,
.css-1rgmi2n {
    position: relative !important;
    overflow: visible !important;
}

/* 订阅页面拖拽图标布局修复 */
.base-page .css-mdbbsh .MuiSvgIcon-root.MuiSvgIcon-fontSizeMedium,
.base-page [role="button"][aria-roledescription="sortable"] .MuiSvgIcon-root {
    margin-left: 0 !important;
    margin-right: 3px !important;
    width: 20px !important;
    height: 20px !important;
    min-width: 20px !important;
    min-height: 20px !important;
}

/* 调整订阅卡片标题布局 */
.base-page .css-8owaep {
    display: flex !important;
    align-items: center !important;
    gap: 6px !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
}

/* 确保标题文本与图标比例协调 */
.base-page .css-9inqwp {
    margin-left: 0 !important;
    padding-left: 0 !important;
    flex: 1 !important;
    font-size: 1.1em !important;
}

/* === 增强背景流光效果 === */
/* 红色背景流光效果 */
.css-l3ykv8::after {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent 15%,
        rgba(180, 0, 0, 0.2) 30%,
        rgba(255, 50, 50, 0.35) 45%,
        rgba(255, 0, 0, 0.5) 50%,
        rgba(255, 50, 50, 0.35) 55%,
        rgba(180, 0, 0, 0.2) 70%,
        transparent 85%
    );
    animation: redShine 4s infinite linear;
    z-index: 1;
    opacity: 0.7;
    pointer-events: none;
}

@keyframes redShine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* 多层流光增强 */
.css-l3ykv8::before {
    background: 
        radial-gradient(
            circle at 20% 80%,
            rgba(255, 0, 0, 0.15) 0%,
            transparent 50%
        ),
        radial-gradient(
            circle at 80% 20%,
            rgba(255, 50, 50, 0.1) 0%,
            transparent 50%
        ),
        radial-gradient(
            circle at 40% 40%,
            rgba(255, 30, 30, 0.12) 0%,
            transparent 50%
        ),
        linear-gradient(135deg, 
            rgba(10, 0, 0, 0.6) 0%, 
            rgba(60, 0, 0, 0.4) 50%, 
            rgba(5, 0, 0, 0.7) 100%);
    animation: backgroundPulse 6s infinite ease-in-out;
}

@keyframes backgroundPulse {
    0%, 100% { 
        opacity: 0.8;
    }
    50% { 
        opacity: 1;
    }
}

