/* 浅色蓝紫色主题 - 适配浅色模式 */
/* 背景图片与主容器样式 - 保持透明度 */
.css-1li7dvq,
.css-l3ykv8,
body,
html {
    background: url('https://i.postimg.cc/wMpwFMcX/illust-107335180-20231015-190436.png') fixed center/cover !important;
    position: relative;
    z-index: 0;
    overflow-x: hidden !important;
}

/* 基础滚动修复 - 防止页面水平滚动 */
.css-1li7dvq,
.css-l3ykv8,
body,
html {
    overflow-x: hidden !important;
}

/* 左侧工具栏滚动条修复 - 匹配主题风格 */
[class*="nav"], [class*="sidebar"], [class*="menu"] {
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

/* 自定义工具栏滚动条样式 - 浅蓝紫色 */
[class*="nav"]::-webkit-scrollbar,
[class*="sidebar"]::-webkit-scrollbar,
[class*="menu"]::-webkit-scrollbar {
    width: 4px !important;
}
[class*="nav"]::-webkit-scrollbar-track,
[class*="sidebar"]::-webkit-scrollbar-track,
[class*="menu"]::-webkit-scrollbar-track {
    background: rgba(200, 190, 240, 0.3) !important;
    border-radius: 2px;
}
[class*="nav"]::-webkit-scrollbar-thumb,
[class*="sidebar"]::-webkit-scrollbar-thumb,
[class*="menu"]::-webkit-scrollbar-thumb {
    background: rgba(120, 100, 200, 0.5) !important;
    border-radius: 2px;
}
[class*="nav"]::-webkit-scrollbar-thumb:hover,
[class*="sidebar"]::-webkit-scrollbar-thumb:hover,
[class*="menu"]::-webkit-scrollbar-thumb:hover {
    background: rgba(140, 120, 220, 0.7) !important;
}

/* 防止容器内容溢出导致额外滚动条 */
[class*="container"], [class*="wrapper"] {
    overflow: hidden !important;
}

/* 浅色蓝紫色叠加层 */
.css-l3ykv8::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, 
        rgba(240, 235, 255, 0.8) 0%, 
        rgba(220, 210, 245, 0.6) 30%, 
        rgba(230, 225, 250, 0.7) 70%, 
        rgba(250, 245, 255, 0.9) 100%);
    z-index: 1;
}

/* 浅色蓝紫色流光效果 */
.css-l3ykv8::after {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent 20%,
        rgba(160, 140, 230, 0.15) 35%,
        rgba(180, 160, 250, 0.3) 50%,
        rgba(160, 140, 230, 0.15) 65%,
        transparent 80%
    );
    animation: shine 4s infinite linear;
    z-index: 1;
    opacity: 0.6;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* 主内容容器 - 浅蓝紫色主题 */
.css-1li7dvq > *, .css-l3ykv8 > * {
    position: relative;
    z-index: 2;
    background: linear-gradient(135deg, 
        rgba(220, 210, 245, 0.4) 0%, 
        rgba(200, 190, 235, 0.3) 100%) !important;
    border: 1px solid rgba(140, 120, 220, 0.5) !important;
    border-radius: 8px;
    box-shadow: 
        0 8px 25px rgba(100, 80, 180, 0.15),
        0 0 0 1px rgba(160, 140, 230, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    backdrop-filter: blur(15px);
}

/* 大组件悬停效果 - 浅蓝紫色光效 */
.css-1li7dvq > *:hover,
.css-l3ykv8 > *:hover {
    background: linear-gradient(135deg, 
        rgba(230, 220, 250, 0.5) 0%, 
        rgba(210, 200, 240, 0.4) 100%) !important;
    border-color: rgba(160, 140, 230, 0.7);
    transform: translateY(-4px) scale(1.02);
    box-shadow: 
        0 0 25px rgba(140, 120, 220, 0.4),
        0 12px 35px rgba(100, 80, 180, 0.1),
        inset 0 0 20px rgba(180, 160, 240, 0.3);
    animation: pulseLightBlue 2s infinite;
}

@keyframes pulseLightBlue {
    0%, 100% { 
        box-shadow: 
            0 0 25px rgba(140, 120, 220, 0.4),
            0 12px 35px rgba(100, 80, 180, 0.1);
    }
    50% { 
        box-shadow: 
            0 0 35px rgba(160, 140, 230, 0.6),
            0 15px 40px rgba(120, 100, 200, 0.15);
    }
}

/* 选中状态 - 浅蓝紫色主题 */
.css-1li7dvq > *[class*="selected"],
.css-l3ykv8 > *[class*="selected"],
.css-1li7dvq > *[class*="active"],
.css-l3ykv8 > *[class*="active"] {
    border: 2px solid rgba(160, 140, 230, 0.8) !important;
    box-shadow: 
        0 0 25px rgba(150, 130, 225, 0.6),
        0 0 40px rgba(140, 120, 220, 0.3) !important;
    background: rgba(200, 190, 235, 0.5) !important;
    animation: selectedPulseLightBlue 2s infinite ease-in-out !important;
    z-index: 100 !important;
}

@keyframes selectedPulseLightBlue {
    0%, 100% { 
        box-shadow: 
            0 0 25px rgba(150, 130, 225, 0.6),
            0 0 40px rgba(140, 120, 220, 0.3);
    }
    50% { 
        box-shadow: 
            0 0 35px rgba(170, 150, 235, 0.8),
            0 0 55px rgba(160, 140, 230, 0.5);
    }
}

/* 测试按钮组 */
[class*="test"], [class*="website-test"],
[class*="button-group"] {
    display: flex !important;
    flex-direction: row !important;
    gap: 12px !important;
    justify-content: center !important;
}

/* 测试按钮样式 - 浅蓝紫色 */
[class*="test-button"], [class*="website-button"],
button[class*="test"], button[class*="website"] {
    flex: 1;
    min-width: 120px;
    background: linear-gradient(135deg, 
        rgba(220, 210, 245, 0.4) 0%, 
        rgba(200, 190, 235, 0.3) 100%) !important;
    border: 1px solid rgba(140, 120, 220, 0.5) !important;
    border-radius: 6px;
    padding: 12px 16px;
    text-align: center;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    color: rgba(70, 50, 130, 0.9) !important;
    backdrop-filter: blur(10px);
}

/* 测试按钮悬停效果 - 浅蓝紫色光效 */
[class*="test-button"]:hover, [class*="website-button"]:hover,
button[class*="test"]:hover, button[class*="website"]:hover {
    background: linear-gradient(135deg, 
        rgba(230, 220, 250, 0.5) 0%, 
        rgba(210, 200, 240, 0.4) 100%) !important;
    border-color: rgba(160, 140, 230, 0.7) !important;
    transform: translateY(-4px) scale(1.05);
    box-shadow: 
        0 6px 20px rgba(100, 80, 180, 0.15),
        0 0 15px rgba(140, 120, 220, 0.4) !important;
}

/* 浅蓝紫色流光效果 */
[class*="test-button"]:hover::before, [class*="website-button"]:hover::before,
button[class*="test"]:hover::before, button[class*="website"]:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(160, 140, 230, 0.3),
        rgba(180, 160, 250, 0.5),
        rgba(160, 140, 230, 0.3),
        transparent
    );
    animation: buttonFlow 1s ease-in-out;
    z-index: -1;
}

@keyframes buttonFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* 测试按钮选中状态 - 浅蓝紫色 */
[class*="test-button"][class*="selected"],
[class*="website-button"][class*="selected"],
[class*="test-button"][class*="active"], 
[class*="website-button"][class*="active"] {
    border: 2px solid rgba(160, 140, 230, 0.8) !important;
    box-shadow: 
        0 0 20px rgba(150, 130, 225, 0.5),
        0 0 35px rgba(140, 120, 220, 0.3) !important;
    background: rgba(180, 170, 225, 0.6) !important;
}

/* 开关按钮样式 - 浅蓝紫色 */
[class*="proxy"], [class*="system-proxy"],
.MuiSwitch-root, [role="switch"] {
    background: rgba(210, 200, 240, 0.4) !important;
    border: 1px solid rgba(140, 120, 220, 0.5) !important;
    border-radius: 8px;
    padding: 12px 16px;
    margin: 8px 0;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
}

/* 开关悬停效果 - 浅蓝紫色流光 */
[class*="proxy"]:hover, [class*="system-proxy"]:hover,
.MuiSwitch-root:hover, [role="switch"]:hover {
    border-color: rgba(160, 140, 230, 0.7) !important;
    transform: scale(1.03);
    box-shadow: 0 0 15px rgba(140, 120, 220, 0.3) !important;
}

[class*="proxy"]:hover::before, [class*="system-proxy"]:hover::before,
.MuiSwitch-root:hover::before, [role="switch"]:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(160, 140, 230, 0.2),
        rgba(180, 160, 250, 0.4),
        rgba(160, 140, 230, 0.2),
        transparent
    );
    animation: switchFlow 1.2s ease-in-out;
    z-index: -1;
}

@keyframes switchFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* 开关轨道和滑块 - 浅蓝紫色 */
.MuiSwitch-track {
    background: rgba(160, 140, 230, 0.5) !important;
    transition: all 0.3s ease;
}

.MuiSwitch-thumb {
    background: rgba(190, 180, 240, 0.8) !important;
    transition: all 0.3s ease;
}

.Mui-checked + .MuiSwitch-track {
    background: rgba(170, 150, 235, 0.6) !important;
    box-shadow: 
        0 0 10px rgba(150, 130, 225, 0.4),
        inset 0 0 6px rgba(200, 190, 245, 0.3) !important;
}

.Mui-checked .MuiSwitch-thumb {
    background: rgba(200, 190, 245, 0.9) !important;
    box-shadow: 
        0 0 15px rgba(170, 150, 235, 0.7),
        0 0 25px rgba(200, 190, 245, 0.3) !important;
    transform: scale(1.2);
}

/* 全局透明 */
* { background-color: transparent !important; }

/* 设置面板 - 浅蓝紫色 */
[class*="settings"], [class*="panel"],
[class*="config"], [class*="control"] {
    background: linear-gradient(135deg, 
        rgba(220, 210, 245, 0.3) 0%, 
        rgba(200, 190, 235, 0.2) 100%) !important;
    border: 1px solid rgba(140, 120, 220, 0.4) !important;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    transition: all 0.3s ease;
    backdrop-filter: blur(12px);
}

/* 设置面板悬停效果 */
[class*="settings"]:hover, [class*="panel"]:hover,
[class*="config"]:hover, [class*="control"]:hover {
    border-color: rgba(160, 140, 230, 0.6) !important;
    transform: translateY(-3px);
    box-shadow: 
        0 8px 25px rgba(100, 80, 180, 0.1),
        0 0 15px rgba(140, 120, 220, 0.2) !important;
}

/* 状态指示器 - 浅蓝紫色 */
[class*="status"], [class*="connected"] {
    background: rgba(210, 200, 240, 0.4) !important;
    border: 1px solid rgba(140, 120, 220, 0.4) !important;
    border-radius: 4px;
    padding: 4px 8px;
    font-weight: 600;
    transition: all 0.3s ease;
    backdrop-filter: blur(6px);
}

/* 连接状态 */
[class*="connected"] {
    border-color: rgba(160, 140, 230, 0.6) !important;
    box-shadow: 0 0 10px rgba(140, 120, 220, 0.3) !important;
    color: rgba(90, 70, 150, 0.9) !important;
}

/* 表格样式 - 浅蓝紫色 */
table, tr, td, th {
    background: rgba(220, 210, 245, 0.2) !important;
    border-color: rgba(160, 140, 230, 0.2) !important;
    backdrop-filter: blur(8px);
}

/* 表格行悬停效果 - 浅蓝紫色流光 */
tr {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

tr:hover {
    background: rgba(230, 220, 250, 0.3) !important;
    transform: translateX(4px);
    box-shadow: 0 0 10px rgba(140, 120, 220, 0.2) !important;
}

tr:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(160, 140, 230, 0.2),
        rgba(180, 160, 250, 0.3),
        rgba(160, 140, 230, 0.2),
        transparent
    );
    animation: rowFlow 1.5s ease-in-out;
    z-index: -1;
}

@keyframes rowFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* 表格行选中状态 - 浅蓝紫色 */
tr[class*="selected"],
tr[class*="active"] {
    background: rgba(200, 190, 235, 0.4) !important;
    border-left: 4px solid rgba(160, 140, 230, 0.8) !important;
    box-shadow: 
        0 0 15px rgba(150, 130, 225, 0.4),
        inset 0 0 10px rgba(180, 160, 240, 0.1) !important;
}

/* 文字样式 - 浅蓝紫色 */
.text-primary, .title, h1, h2, h3, h4, h5, h6 {
    color: rgba(70, 50, 130, 0.95) !important;
    text-shadow: 
        0 1px 2px rgba(255, 255, 255, 0.8),
        0 0 10px rgba(160, 140, 230, 0.4),
        0 0 20px rgba(140, 120, 220, 0.2);
    transition: all 0.3s ease;
}

.text-primary:hover, .title:hover, h1:hover, h2:hover, h3:hover, h4:hover, h5:hover, h6:hover {
    color: rgba(90, 70, 150, 0.95) !important;
    text-shadow: 
        0 0 15px rgba(180, 160, 240, 0.6),
        0 0 25px rgba(160, 140, 230, 0.3) !important;
    transform: translateY(-3px) scale(1.05);
}

.text-primary[class*="selected"], .title[class*="selected"] {
    color: rgba(100, 80, 160, 0.98) !important;
    text-shadow: 
        0 0 20px rgba(170, 150, 235, 0.8),
        0 0 30px rgba(160, 140, 230, 0.5) !important;
    animation: textGlowLightBlue 2s infinite alternate !important;
}

@keyframes textGlowLightBlue {
    0% {
        text-shadow: 
            0 0 20px rgba(170, 150, 235, 0.8),
            0 0 30px rgba(160, 140, 230, 0.5);
    }
    100% {
        text-shadow: 
            0 0 25px rgba(180, 160, 240, 1),
            0 0 35px rgba(170, 150, 235, 0.7);
    }
}

.text-secondary, p, span {
    color: rgba(80, 60, 140, 0.9) !important;
    text-shadow: 0 0 6px rgba(160, 140, 230, 0.3);
}

/* 按钮样式 - 浅蓝紫色流光 */
button, .btn, [role="button"] {
    background: linear-gradient(135deg, 
        rgba(220, 210, 245, 0.4) 0%, 
        rgba(200, 190, 235, 0.3) 100%) !important;
    border: 1px solid rgba(140, 120, 220, 0.5) !important;
    color: rgba(70, 50, 130, 0.9) !important;
    border-radius: 6px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    text-shadow: 0 0 6px rgba(160, 140, 230, 0.3);
    backdrop-filter: blur(10px);
}

button:hover, .btn:hover, [role="button"]:hover {
    background: linear-gradient(135deg, 
        rgba(230, 220, 250, 0.5) 0%, 
        rgba(210, 200, 240, 0.4) 100%) !important;
    border-color: rgba(160, 140, 230, 0.7) !important;
    transform: translateY(-4px) scale(1.05);
    box-shadow: 
        0 6px 20px rgba(100, 80, 180, 0.15),
        0 0 15px rgba(140, 120, 220, 0.4) !important;
}

button:hover::before, .btn:hover::before, [role="button"]:hover::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(160, 140, 230, 0.3),
        rgba(180, 160, 250, 0.5),
        rgba(160, 140, 230, 0.3),
        transparent
    );
    animation: generalButtonFlow 1s ease-in-out;
    z-index: -1;
}

@keyframes generalButtonFlow {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

button[class*="selected"], .btn[class*="selected"], [role="button"][class*="selected"] {
    border: 2px solid rgba(160, 140, 230, 0.8) !important;
    box-shadow: 
        0 0 20px rgba(150, 130, 225, 0.5),
        0 0 35px rgba(140, 120, 220, 0.3) !important;
    background: rgba(180, 170, 225, 0.6) !important;
}

/* 输入框 - 浅蓝紫色 */
input, textarea, select {
    background: rgba(220, 210, 245, 0.3) !important;
    border: 1px solid rgba(140, 120, 220, 0.4) !important;
    color: rgba(70, 50, 130, 0.9) !important;
    border-radius: 6px;
    transition: all 0.3s ease;
    backdrop-filter: blur(6px);
}

input:focus, textarea:focus, select:focus {
    border-color: rgba(160, 140, 230, 0.8) !important;
    box-shadow: 
        0 0 20px rgba(140, 120, 220, 0.4),
        inset 0 0 8px rgba(180, 160, 240, 0.2) !important;
    background: rgba(230, 220, 250, 0.4) !important;
    transform: scale(1.03);
}

/* 滚动条 - 浅蓝紫色 */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(200, 190, 240, 0.2);
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, 
        rgba(140, 120, 220, 0.5) 0%, 
        rgba(120, 100, 200, 0.4) 100%);
    border-radius: 4px;
    transition: all 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, 
        rgba(160, 140, 230, 0.6) 0%, 
        rgba(140, 120, 220, 0.5) 100%);
    box-shadow: 0 0 10px rgba(140, 120, 220, 0.4);
}

/* 特殊元素 - 浅蓝紫色 */
[class*="speed"], [class*="download"], [class*="upload"] {
    color: rgba(100, 80, 160, 0.95) !important;
    font-weight: 600;
    text-shadow: 0 0 8px rgba(160, 140, 230, 0.4);
}

[class*="待检测"] {
    color: rgba(100, 80, 160, 0.9) !important;
    font-weight: 600;
    animation: blink 2s infinite;
    position: relative;
}

[class*="待检测"]::after {
    content: "✦";
    position: absolute;
    right: -15px;
    top: 50%;
    transform: translateY(-50%);
    color: rgba(140, 120, 220, 0.7);
    animation: spin 2s infinite linear;
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes spin {
    0% { transform: translateY(-50%) rotate(0deg); }
    100% { transform: translateY(-50%) rotate(360deg); }
}

/* 强制透明覆盖 */
[style*="background:"]:not([style*="url"]),
[style*="background-color"]:not([style*="rgba(0,0,0"]) {
    background: transparent !important;
}

/* === 订阅标签图标隐藏修复 === */
svg.MuiSvgIcon-root.MuiSvgIcon-fontSizeMedium.css-14vn3vf {
    display: none !important;
    visibility: hidden !important;
    width: 0 !important;
    height: 0 !important;
    opacity: 0 !important;
}

[class*="subscription"] svg.MuiSvgIcon-root,
[class*="account"] svg.MuiSvgIcon-root,
[class*="user"] svg.MuiSvgIcon-root {
    display: none !important;
}

[class*="subscription"] > div,
[class*="account"] > div,
[class*="user"] > div {
    display: flex !important;
    align-items: center !important;
    gap: 0 !important;
}

[class*="subscription"] span:first-of-type,
[class*="account"] span:first-of-type,
[class*="user"] span:first-of-type {
    margin-left: 0 !important;
    padding-left: 0 !important;
}

/* 修复所有可能遗漏的非透明背景 */
[style*="background-color"]:not([style*="transparent"]):not([style*="rgba(0,0,0,0"]):not(.css-1li7dvq):not(.css-l3ykv8) {
    background-color: rgba(220, 210, 245, 0.2) !important;
    backdrop-filter: blur(10px);
}

/* 强制修复所有白色或浅色背景 */
[style*="background: white"],
[style*="background: #fff"],
[style*="background: #ffffff"],
[style*="background-color: white"],
[style*="background-color: #fff"],
[style*="background-color: #ffffff"] {
    background: rgba(220, 210, 245, 0.3) !important;
    backdrop-filter: blur(10px);
}